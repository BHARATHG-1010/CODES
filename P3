#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#define max 5

int st[max],top=-1;
void push(),disp(),palin();
int pop();

void main() {
	int ch,k,item;

	while(1) {
		printf("\n---Main Menu---\n");
		printf("1: Push\n2: Pop\n3: Display\n4: Palindrome\n5: Exit");

		printf("\nEnter your choice: ");
		scanf("%d",&ch);
		switch(ch) {
			case 1:printf("Enter an item to push: ");
				scanf("%d",&item);
				push(item);
				break;
				
			case 2:k=pop();
				if(k)
					printf("Popped element is %d.\n",k);
				break;
				
			case 3:disp();
				break;
				
			case 4:palin();
				break;
				
			case 5:exit(0);
			default:printf("Enter a valid input.");
		}
	}
}

void push(int item) {
	if(top==max-1) {
		printf("Stack Overflow.");
		return;
	}
	st[++top]=item;
}
	
int pop() {
	if(top==-1) {
		printf("Stack Underflow.");
		return 0;
	}
	return(st[top--]);
}

void disp() {
	int i;
	
	if(top==-1) {
		printf("Stack Empty.");
		return;
	}
	
	printf("The stack contents are:\n");
	for(i=top;i>=0;i--)
		printf("|%d|\n",st[i]);
}

void palin() {
	int i;
	char p[100];
	top=-1;

	printf("Enter a number to check for palindrome: ");
	scanf("%s",p);
	
	for(i=0;i<strlen(p);i++)
		push(p[i]-'0');
	for(i=0;i<strlen(p)/2;i++)
		if((p[i]-'0')!=pop()) {
			printf("The number is not palindrome.\n");
			return;
		}	
	printf("The number is palindrome.\n");
}
