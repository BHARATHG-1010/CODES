#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#define null 0

struct student {
	char usn[15],name[20],branch[10];
	int sem;
	char phno[20]; 
	struct student *link;
};

typedef struct student node;
node*start;

void main() {
	void create(),insert_end(),del_front(),disp(); 
	int ch;

	while(1) {
		printf("\n---MAIN MENU---\n");
		printf("1:Create\t2:Display\t3:Insert End");
		printf("\n4:Delete Front\t5:Exit\n");
		printf("Enter your choice: ");
		scanf("%d",&ch); 

		switch(ch) {
			case 1:create();
				break; 
			case 2:disp();
				break;
			case 3:insert_end();
				break;
			case 4:del_front();
				break; 
			case 5:exit(0);
			default:printf("Invalid choice\n");
		}
	}
}

void create() {
	int i,n; 
	node *p;

	printf("Enter the number of students: "); 
	scanf("%d",&n);

	for(i=0;i<n;i++) {
		p=(node *)malloc(sizeof(node));
		printf("Enter the student USN,NAME,BRANCH,SEM,PHNO: \n\t");
		scanf("%s%s%s%d%s",p->usn,p->name,p->branch,&p->sem,p->phno); 
		p->link=start;
		start=p;
	}
}

void disp() {
	int cnt=0; 
	node *t; 

	if(start==null) {
	printf("List is empty.\n");
	return;
	}
	
	t=start; 
	while(t!=null) {
		cnt++;
		printf("%s\t%s\t\t%s\t%d\t%s\n",t->usn,t->name,t->branch,t->sem,t->phno); 
		t=t->link;
	}
	printf("Total number of nodes: %d\n",cnt);
}

void insert_end() {
	node *p,*r; 

	p=(node *)malloc(sizeof(node));
	printf("Enter the student USN,NAME,BRANCH,SEM,PHNO: \n\t"); 
	scanf("%s%s%s%d%s",p->usn,p->name,p->branch,&p->sem,p->phno); 

	p->link=null;
	if(start==null) {
		start=p;
		return;
	}

	r=start;
	while(r->link!=null) 
		r=r->link;
		r->link=p;
}

void del_front() {
	node *q;

	if(start==null) {
		printf("List is empty.\n"); 
		return;
	}

	q=start;
	printf("Deleted node is %s\n",q->usn);
	start=start->link;
	free(q);
}
